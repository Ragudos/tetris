---
import Main from "../layouts/Main.astro"
---

<Main>
    <main class="container">
        <div class="canvas-container">
            <div class="canvas-inner-container">
                <canvas width="75" height="75" id="tetris-swap" data-id="tetris" data-type="swap"></canvas>
                <canvas width="200" height="400" id="tetris-main" data-id="tetris" data-type="main"></canvas>
                <canvas width="75" height="75" id="tetris-next" data-id="tetris" data-type="next"></canvas>
            </div>
        </div>

        <div class="countdown-container">
            <div>The game starts in</div>
            <div id="countdown">3</div>
        </div>
    </main>
</Main>
<style>
    canvas {
        border: 1px solid hsl(var(--text));
        touch-action: none;
    }

    [data-type=main] {
        width: 100%;
        height: 100%;
        position: relative;
    }

    [data-type=next],
    [data-type=swap] {
        align-self: flex-start;
    }

    .canvas-inner-container {
        display: flex;
        gap: 2rem;
    }

    .canvas-container {
        display: grid;
        place-items: center;
        min-height: 100dvh;
    }

    .container {
        position: relative;
    }

    .countdown-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: absolute;
        margin: auto;
        inset: 0;
        z-index: 10;
    }
</style>
<script src="../lib/play"></script>